{"ast":null,"code":"import _toConsumableArray from\"/Users/serhiimaistrenko/react/Kapusta-smart-finance/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/serhiimaistrenko/react/Kapusta-smart-finance/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import{Outlet,useNavigate}from'react-router-dom';import{format,subMonths,addMonths}from'date-fns';import{getDataByPeriod}from'Redux/kapustaSlice';import{getTransactionsByPeriod}from'Redux/transactionOperation';import{setIconData}from'Redux/kapustaSlice';// import { Container } from 'components/Theme/BreakPoints';\nimport StatsReport from'components/StatsReport/StatsReport';import ReportBalance from'../Balance/ReportBalance';import{ReportIoIosArrowRoundBack,ReportArrowLeft,ReportArrowRight,ReportCurrentPeriodWrapper,ReportExpenseButtonArrowLeft,ReportExpenseButtonArrowRight,ReportDateWrapper,ReportCurrentPeriodText,ReportDateText,ReportListIndicator,ReportListItemIndicatorExpenses,ReportListItemIndicatorIncome,ReportListItemIndicatorText,ReportListItemIndicatorExpensesAmount,ReportListItemIndicatorIncomeAmount,ReportIoIosArrowRoundBackText,ReportIoIosArrowRoundBackWrapper,ReportHeaderWrapperTablet}from'./AppBarReport.styled';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AppBarReport(){var navigate=useNavigate();var dispatch=useDispatch();var userPeriodTotal=useSelector(getDataByPeriod);var _useState=useState(function(){return new Date();}),_useState2=_slicedToArray(_useState,2),selectedSeriod=_useState2[0],setSelectedSeriod=_useState2[1];var onBackHomePageHandler=function onBackHomePageHandler(){dispatch(setIconData({id:null,data:[]}));navigate('/home',{replace:true});};var onChangeMonthIncreaseHandler=function onChangeMonthIncreaseHandler(){var nextDate=addMonths(selectedSeriod,1);setSelectedSeriod(nextDate);dispatch(setIconData({id:null,data:[]}));};var onChangeMonthDecreaseHandler=function onChangeMonthDecreaseHandler(){var previousDate=subMonths(selectedSeriod,1);setSelectedSeriod(previousDate);dispatch(setIconData({id:null,data:[]}));};var userPeriodExpenses=userPeriodTotal.map(function(item){return item===null||item===void 0?void 0:item.expenses.expenseTotal;});var userPeriodIncomes=userPeriodTotal.map(function(item){return item===null||item===void 0?void 0:item.incomes.incomeTotal;});useEffect(function(){dispatch(getTransactionsByPeriod(format(selectedSeriod,'yyyy-MM')));},[dispatch,selectedSeriod]);return/*#__PURE__*/_jsxs(\"div\",{style:{paddingBottom:80,marginLeft:'auto',marginRight:'auto',display:'flex',flexDirection:'column',justifyContent:'center'// alignItems: 'center',\n},children:[/*#__PURE__*/_jsxs(ReportHeaderWrapperTablet,{children:[/*#__PURE__*/_jsxs(ReportIoIosArrowRoundBackWrapper,{children:[/*#__PURE__*/_jsx(ReportIoIosArrowRoundBack,{size:36,onClick:onBackHomePageHandler}),/*#__PURE__*/_jsx(ReportIoIosArrowRoundBackText,{children:\"Main page\"})]}),/*#__PURE__*/_jsxs(ReportCurrentPeriodWrapper,{children:[/*#__PURE__*/_jsx(ReportCurrentPeriodText,{children:\"Current period:\"}),/*#__PURE__*/_jsxs(ReportDateWrapper,{children:[/*#__PURE__*/_jsx(ReportExpenseButtonArrowLeft,{onClick:onChangeMonthDecreaseHandler,children:/*#__PURE__*/_jsx(ReportArrowLeft,{size:24})}),/*#__PURE__*/_jsx(ReportDateText,{children:format(selectedSeriod,'MMMM yyyy')}),/*#__PURE__*/_jsx(ReportExpenseButtonArrowRight,{onClick:onChangeMonthIncreaseHandler,children:/*#__PURE__*/_jsx(ReportArrowRight,{size:24})})]})]}),/*#__PURE__*/_jsx(ReportBalance,{})]}),/*#__PURE__*/_jsxs(ReportListIndicator,{children:[/*#__PURE__*/_jsxs(ReportListItemIndicatorExpenses,{children:[/*#__PURE__*/_jsx(ReportListItemIndicatorText,{children:\"Expenses:\"}),/*#__PURE__*/_jsxs(ReportListItemIndicatorExpensesAmount,{children:[\"- \",_toConsumableArray(userPeriodExpenses),\" UAH.\"]})]}),/*#__PURE__*/_jsxs(ReportListItemIndicatorIncome,{children:[/*#__PURE__*/_jsx(ReportListItemIndicatorText,{children:\"Income:\"}),/*#__PURE__*/_jsxs(ReportListItemIndicatorIncomeAmount,{children:[\"+ \",_toConsumableArray(userPeriodIncomes),\" UAH.\"]})]})]}),/*#__PURE__*/_jsx(Outlet,{}),/*#__PURE__*/_jsx(StatsReport,{})]});}","map":{"version":3,"names":["useState","useEffect","useSelector","useDispatch","Outlet","useNavigate","format","subMonths","addMonths","getDataByPeriod","getTransactionsByPeriod","setIconData","StatsReport","ReportBalance","ReportIoIosArrowRoundBack","ReportArrowLeft","ReportArrowRight","ReportCurrentPeriodWrapper","ReportExpenseButtonArrowLeft","ReportExpenseButtonArrowRight","ReportDateWrapper","ReportCurrentPeriodText","ReportDateText","ReportListIndicator","ReportListItemIndicatorExpenses","ReportListItemIndicatorIncome","ReportListItemIndicatorText","ReportListItemIndicatorExpensesAmount","ReportListItemIndicatorIncomeAmount","ReportIoIosArrowRoundBackText","ReportIoIosArrowRoundBackWrapper","ReportHeaderWrapperTablet","AppBarReport","navigate","dispatch","userPeriodTotal","Date","selectedSeriod","setSelectedSeriod","onBackHomePageHandler","id","data","replace","onChangeMonthIncreaseHandler","nextDate","onChangeMonthDecreaseHandler","previousDate","userPeriodExpenses","map","item","expenses","expenseTotal","userPeriodIncomes","incomes","incomeTotal","paddingBottom","marginLeft","marginRight","display","flexDirection","justifyContent"],"sources":["/Users/serhiimaistrenko/react/Kapusta-smart-finance/src/components/Report/AppBarReport/AppBarReport.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Outlet, useNavigate } from 'react-router-dom';\nimport { format, subMonths, addMonths } from 'date-fns';\nimport { getDataByPeriod } from 'Redux/kapustaSlice';\nimport { getTransactionsByPeriod } from 'Redux/transactionOperation';\nimport { setIconData } from 'Redux/kapustaSlice';\n// import { Container } from 'components/Theme/BreakPoints';\nimport StatsReport from 'components/StatsReport/StatsReport';\nimport ReportBalance from '../Balance/ReportBalance';\nimport {\n  ReportIoIosArrowRoundBack,\n  ReportArrowLeft,\n  ReportArrowRight,\n  ReportCurrentPeriodWrapper,\n  ReportExpenseButtonArrowLeft,\n  ReportExpenseButtonArrowRight,\n  ReportDateWrapper,\n  ReportCurrentPeriodText,\n  ReportDateText,\n  ReportListIndicator,\n  ReportListItemIndicatorExpenses,\n  ReportListItemIndicatorIncome,\n  ReportListItemIndicatorText,\n  ReportListItemIndicatorExpensesAmount,\n  ReportListItemIndicatorIncomeAmount,\n  ReportIoIosArrowRoundBackText,\n  ReportIoIosArrowRoundBackWrapper,\n  ReportHeaderWrapperTablet,\n} from './AppBarReport.styled';\n\nexport default function AppBarReport() {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const userPeriodTotal = useSelector(getDataByPeriod);\n  const [selectedSeriod, setSelectedSeriod] = useState(() => new Date());\n\n  const onBackHomePageHandler = () => {\n    dispatch(setIconData({ id: null, data: [] }))\n    navigate('/home', { replace: true });\n  };\n\n  const onChangeMonthIncreaseHandler = () => {\n    const nextDate = addMonths(selectedSeriod, 1);\n    setSelectedSeriod(nextDate);\n    dispatch(setIconData({ id: null, data: [] }))\n  };\n\n  const onChangeMonthDecreaseHandler = () => {\n    const previousDate = subMonths(selectedSeriod, 1);\n    setSelectedSeriod(previousDate);\n    dispatch(setIconData({ id: null, data: [] }))\n  };\n\n  const userPeriodExpenses = userPeriodTotal.map(\n    item => item?.expenses.expenseTotal\n  );\n\n  const userPeriodIncomes = userPeriodTotal.map(\n    item => item?.incomes.incomeTotal\n  );\n\n  useEffect(() => {\n    dispatch(getTransactionsByPeriod(format(selectedSeriod, 'yyyy-MM')));\n  }, [dispatch, selectedSeriod]);\n\n  return (\n    <div\n      style={{\n        paddingBottom: 80,\n        marginLeft: 'auto',\n        marginRight: 'auto',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        // alignItems: 'center',\n      }}\n    >\n      <ReportHeaderWrapperTablet>\n        <ReportIoIosArrowRoundBackWrapper>\n          <ReportIoIosArrowRoundBack\n            size={36}\n            onClick={onBackHomePageHandler}\n          />\n          <ReportIoIosArrowRoundBackText>\n            Main page\n          </ReportIoIosArrowRoundBackText>\n        </ReportIoIosArrowRoundBackWrapper>\n\n        <ReportCurrentPeriodWrapper>\n          <ReportCurrentPeriodText>Current period:</ReportCurrentPeriodText>\n          <ReportDateWrapper>\n            <ReportExpenseButtonArrowLeft\n              onClick={onChangeMonthDecreaseHandler}\n            >\n              <ReportArrowLeft size={24} />\n            </ReportExpenseButtonArrowLeft>\n            <ReportDateText>\n              {format(selectedSeriod, 'MMMM yyyy')}\n            </ReportDateText>\n            <ReportExpenseButtonArrowRight\n              onClick={onChangeMonthIncreaseHandler}\n            >\n              <ReportArrowRight size={24} />\n            </ReportExpenseButtonArrowRight>\n          </ReportDateWrapper>\n        </ReportCurrentPeriodWrapper>\n        <ReportBalance />\n      </ReportHeaderWrapperTablet>\n\n      <ReportListIndicator>\n        <ReportListItemIndicatorExpenses>\n          <ReportListItemIndicatorText>Expenses:</ReportListItemIndicatorText>\n          <ReportListItemIndicatorExpensesAmount>\n            - {[...userPeriodExpenses]} UAH.\n          </ReportListItemIndicatorExpensesAmount>\n        </ReportListItemIndicatorExpenses>\n        <ReportListItemIndicatorIncome>\n          <ReportListItemIndicatorText>Income:</ReportListItemIndicatorText>\n          <ReportListItemIndicatorIncomeAmount>\n            + {[...userPeriodIncomes]} UAH.\n          </ReportListItemIndicatorIncomeAmount>\n        </ReportListItemIndicatorIncome>\n      </ReportListIndicator>\n      <Outlet />\n      <StatsReport />\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}