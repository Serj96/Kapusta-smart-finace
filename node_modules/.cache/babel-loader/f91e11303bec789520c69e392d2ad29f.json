{"ast":null,"code":"import _slicedToArray from\"/Users/serhiimaistrenko/react/Kapusta-smart-finance/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect}from'react';import{useState}from'react';import{useDispatch,useSelector}from'react-redux';import{useLocation}from'react-router-dom';import{getSid,getUserExpenses,getUserIncomes}from'Redux/kapustaSlice';import{getExpense,getIncome}from'Redux/transactionOperation';import{DeleteIcon,ExpButton}from'../ExpenseItem/ExpenseItem.styled';import{Modal}from'../Modal/Modal';import TransactionDeleteModal from'../Modal/TransactionDeleteModal/TransactionDeleteModal';import{Table,TableC,TableH,TableWrapper,Td,Th}from'./ExpenseTable.styled';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ExpenseTable=function ExpenseTable(){var _useLocation=useLocation(),pathname=_useLocation.pathname;var dispatch=useDispatch();var expensesList=useSelector(getUserExpenses);var incomeList=useSelector(getUserIncomes);var sid=useSelector(getSid);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),swohModalDelete=_useState2[0],setShowModalDelete=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),itemId=_useState4[0],setItemId=_useState4[1];useEffect(function(){if(sid&&pathname==='/home/expenses')dispatch(getExpense());if(sid&&pathname==='/home/income')dispatch(getIncome());},[dispatch,pathname,sid]);var onModal=function onModal(){setShowModalDelete(true);if(swohModalDelete)return setShowModalDelete(false);};var formatSum=function formatSum(sum){var format=sum.toString().includes('-');if(format===false){return'-'+sum;}return sum;};// formatSum(30);\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(TableWrapper,{children:[/*#__PURE__*/_jsx(TableH,{children:/*#__PURE__*/_jsx(Table,{cellpadding:\"0\",cellspacing:\"0\",border:\"0\",children:/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(Th,{children:\"DAte\"}),/*#__PURE__*/_jsx(Th,{children:\"Description\"}),/*#__PURE__*/_jsx(Th,{children:\"Category\"}),/*#__PURE__*/_jsx(Th,{children:\"Sum\"})]})})})}),/*#__PURE__*/_jsx(TableC,{children:/*#__PURE__*/_jsx(Table,{cellpadding:\"0\",cellspacing:\"0\",border:\"0\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[pathname==='/home/expenses'&&(expensesList===null||expensesList===void 0?void 0:expensesList.map(function(_ref){var _id=_ref._id,date=_ref.date,description=_ref.description,category=_ref.category,amount=_ref.amount;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(Td,{children:date}),/*#__PURE__*/_jsx(Td,{children:description}),/*#__PURE__*/_jsx(Td,{children:category}),/*#__PURE__*/_jsx(Td,{path:pathname,children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between'},children:[formatSum(amount),/*#__PURE__*/_jsx(ExpButton,{type:\"button\",onClick:function onClick(){setItemId(_id);onModal();},children:/*#__PURE__*/_jsx(DeleteIcon,{})})]})})]},_id);})),pathname==='/home/income'&&(incomeList===null||incomeList===void 0?void 0:incomeList.map(function(_ref2){var _id=_ref2._id,date=_ref2.date,description=_ref2.description,category=_ref2.category,amount=_ref2.amount;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(Td,{children:date}),/*#__PURE__*/_jsx(Td,{children:description}),/*#__PURE__*/_jsx(Td,{children:category}),/*#__PURE__*/_jsx(Td,{path:pathname,children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between'},children:[amount,/*#__PURE__*/_jsx(ExpButton,{type:\"button\",onClick:function onClick(){setItemId(_id);onModal();},children:/*#__PURE__*/_jsx(DeleteIcon,{})})]})})]},_id);}))]})})})]}),swohModalDelete&&/*#__PURE__*/_jsx(Modal,{onClose:onModal,children:/*#__PURE__*/_jsx(TransactionDeleteModal,{id:itemId,onClose:onModal})})]});};export default ExpenseTable;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","useLocation","getSid","getUserExpenses","getUserIncomes","getExpense","getIncome","DeleteIcon","ExpButton","Modal","TransactionDeleteModal","Table","TableC","TableH","TableWrapper","Td","Th","ExpenseTable","pathname","dispatch","expensesList","incomeList","sid","swohModalDelete","setShowModalDelete","itemId","setItemId","onModal","formatSum","sum","format","toString","includes","map","_id","date","description","category","amount","display","alignItems","justifyContent"],"sources":["/Users/serhiimaistrenko/react/Kapusta-smart-finance/src/components/Expenses/ExpenseTable/ExpenseTable.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useLocation } from 'react-router-dom';\nimport { getSid, getUserExpenses, getUserIncomes } from 'Redux/kapustaSlice';\nimport { getExpense, getIncome } from 'Redux/transactionOperation';\n\nimport { DeleteIcon, ExpButton } from '../ExpenseItem/ExpenseItem.styled';\nimport { Modal } from '../Modal/Modal';\nimport TransactionDeleteModal from '../Modal/TransactionDeleteModal/TransactionDeleteModal';\nimport {\n  Table,\n  TableC,\n  TableH,\n  TableWrapper,\n  Td,\n  Th,\n} from './ExpenseTable.styled';\n\nconst ExpenseTable = () => {\n  const { pathname } = useLocation();\n  const dispatch = useDispatch();\n  const expensesList = useSelector(getUserExpenses);\n  const incomeList = useSelector(getUserIncomes);\n  const sid = useSelector(getSid);\n\n  const [swohModalDelete, setShowModalDelete] = useState(false);\n  const [itemId, setItemId] = useState(null);\n\n  useEffect(() => {\n    if (sid && pathname === '/home/expenses') dispatch(getExpense());\n\n    if (sid && pathname === '/home/income') dispatch(getIncome());\n  }, [dispatch, pathname, sid]);\n\n  const onModal = () => {\n    setShowModalDelete(true);\n    if (swohModalDelete) return setShowModalDelete(false);\n  };\n\n  const formatSum = sum => {\n    const format = sum.toString().includes('-');\n    if (format === false) {\n      return '-' + sum;\n    }\n    return sum;\n  };\n\n  // formatSum(30);\n\n  return (\n    <>\n      <TableWrapper>\n        <TableH>\n          <Table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n            <thead>\n              <tr>\n                <Th>DAte</Th>\n                <Th>Description</Th>\n                <Th>Category</Th>\n                <Th>Sum</Th>\n              </tr>\n            </thead>\n          </Table>\n        </TableH>\n        <TableC>\n          <Table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n            <tbody>\n              {pathname === '/home/expenses' &&\n                expensesList?.map(\n                  ({ _id, date, description, category, amount }) => (\n                    <tr key={_id}>\n                      <Td>{date}</Td>\n                      <Td>{description}</Td>\n                      <Td>{category}</Td>\n                      <Td path={pathname}>\n                        <div\n                          style={{\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'space-between',\n                          }}\n                        >\n                          {formatSum(amount)}\n                          <ExpButton\n                            type=\"button\"\n                            onClick={() => {\n                              setItemId(_id);\n                              onModal();\n                            }}\n                          >\n                            <DeleteIcon />\n                          </ExpButton>\n                        </div>\n                      </Td>\n                    </tr>\n                  )\n                )}\n              {pathname === '/home/income' &&\n                incomeList?.map(\n                  ({ _id, date, description, category, amount }) => (\n                    <tr key={_id}>\n                      <Td>{date}</Td>\n                      <Td>{description}</Td>\n                      <Td>{category}</Td>\n                      <Td path={pathname}>\n                        <div\n                          style={{\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'space-between',\n                          }}\n                        >\n                          {amount}\n                          <ExpButton\n                            type=\"button\"\n                            onClick={() => {\n                              setItemId(_id);\n                              onModal();\n                            }}\n                          >\n                            <DeleteIcon />\n                          </ExpButton>\n                        </div>\n                      </Td>\n                    </tr>\n                  )\n                )}\n            </tbody>\n          </Table>\n        </TableC>\n      </TableWrapper>\n      {swohModalDelete && (\n        <Modal onClose={onModal}>\n          <TransactionDeleteModal id={itemId} onClose={onModal} />\n        </Modal>\n      )}\n    </>\n  );\n};\n\nexport default ExpenseTable;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}